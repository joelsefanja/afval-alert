<p-card>
  <div class="p-3">
    <h2 class="text-xl font-semibold mb-4">Waar is het afval?</h2>
    
    @if (error()) {
      <p-message severity="error" [text]="error()!" class="w-full mb-3"></p-message>
    }
    
    @if (huidigeLocatie()) {
      <div class="mb-4 p-3 border-round bg-green-50">
        <p class="m-0 text-green-800">
          <i class="pi pi-map-marker mr-2"></i>
          {{ huidigeLocatie()!.address }}
        </p>
      </div>
    } @else {
      <div class="mb-4">
        <p class="text-600 mb-3">Zoek een adres of gebruik je huidige locatie</p>
        <app-locatie-picker (locationSelected)="onLocationSelected($event)"></app-locatie-picker>
      </div>
    }
    
    <div class="flex gap-2 mb-4">
      <p-button 
        label="Open kaart" 
        icon="pi pi-map"
        (onClick)="onKaartOpenen()"
        severity="secondary"
        outlined
        class="flex-1">
      </p-button>
    </div>
    
    @if (showMap()) {
      <div class="mb-4">
        <app-kaart 
          [selectedLocation]="getSelectedLocationForMap()"
          (locationSelected)="onLocationSelected($event)"
          (mapClosed)="onKaartSluiten()">
        </app-kaart>
      </div>
    }
    
    <div class="flex justify-content-between">
      <p-button 
        label="Vorige" 
        icon="pi pi-chevron-left" 
        (onClick)="onVorige()"
        severity="secondary">
      </p-button>
      
      <p-button 
        label="Volgende" 
        icon="pi pi-chevron-right" 
        iconPos="right"
        (onClick)="onVolgende()"
        [disabled]="!huidigeLocatie()">
      </p-button>
    </div>
  </div>
</p-card>