<div class="max-w-2xl mx-auto p-4 space-y-6 motion-preset-fade-in">
  <!-- Header -->
  <div class="text-center space-y-4">
    <h1 class="text-2xl lg:text-3xl font-bold text-surface-900 dark:text-surface-0">
      Foto wordt verwerkt...
    </h1>
  </div>

  <!-- Verwerking status -->
  @switch (verwerkingsFase) {
    @case ('uploaden') {
      <p-card class="text-center">
        <div class="space-y-4">
          <p-progressSpinner styleClass="w-16 h-16" />
          <div>
            <h3 class="text-lg font-semibold text-surface-900 dark:text-surface-0 mb-2">
              Foto uploaden...
            </h3>
            <p class="text-surface-600 dark:text-surface-300">
              Je foto wordt veilig ge√ºpload naar onze servers.
            </p>
          </div>
        </div>
      </p-card>
    }
    
    @case ('analyseren') {
      <p-card class="text-center">
        <div class="space-y-4">
          <p-progressSpinner styleClass="w-16 h-16" />
          <div>
            <h3 class="text-lg font-semibold text-surface-900 dark:text-surface-0 mb-2">
              Afval herkennen...
            </h3>
            <p class="text-surface-600 dark:text-surface-300">
              Onze AI analyseert je foto om het afvaltype te bepalen.
            </p>
          </div>
          
          <!-- Weetje tonen tijdens verwerking -->
          @if (state.weetje()) {
            <div class="mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800">
              <div class="flex items-start gap-3">
                <i class="pi pi-lightbulb text-blue-600 dark:text-blue-400 text-lg mt-0.5"></i>
                <div class="text-left">
                  <p class="font-medium text-blue-800 dark:text-blue-200 mb-1">Wist je dat...</p>
                  <p class="text-sm text-blue-700 dark:text-blue-300 m-0">
                    {{ state.weetje() }}
                  </p>
                </div>
              </div>
            </div>
          }
        </div>
      </p-card>
    }
    
    @case ('voltooid') {
      <p-card class="text-center">
        <div class="space-y-4">
          <div class="w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center mx-auto">
            <i class="pi pi-check text-green-600 dark:text-green-400 text-2xl"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-green-800 dark:text-green-200 mb-2">
              Foto succesvol verwerkt!
            </h3>
            <p class="text-surface-600 dark:text-surface-300">
              We hebben {{ state.afvalTypes().length }} afvaltype(s) herkend.
            </p>
          </div>
          
          <!-- Herkende afval types preview -->
          @if (state.afvalTypes().length > 0) {
            <div class="flex flex-wrap gap-2 justify-center mt-4">
              @for (type of state.afvalTypes(); track type.id) {
                <span 
                  class="inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium"
                  [style.background-color]="type.kleur + '20'"
                  [style.color]="type.kleur"
                >
                  <i [class]="'pi ' + type.icoon"></i>
                  {{ type.naam }}
                </span>
              }
            </div>
          }
        </div>
      </p-card>
    }
    
    @case ('fout') {
      <div class="space-y-4">
        <p-message 
          severity="error" 
          [text]="foutmelding"
          class="motion-preset-shake"
        />
        
        <div class="flex gap-3">
          <p-button 
            label="Probeer opnieuw" 
            icon="pi pi-refresh"
            (onClick)="probeerOpnieuw()"
            class="flex-1"
          />
          <p-button 
            label="Andere foto" 
            icon="pi pi-arrow-left"
            variant="outlined"
            (onClick)="terugNaarFoto()"
            class="flex-1"
          />
        </div>
      </div>
    }
  }
</div>