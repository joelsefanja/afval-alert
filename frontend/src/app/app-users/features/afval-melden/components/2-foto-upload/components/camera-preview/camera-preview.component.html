<div
  class="flex flex-col bg-black text-white rounded-xl overflow-hidden p-2 box-border"
>
  <!-- Video container -->
  <div class="relative w-full max-w-full mx-auto" style="aspect-ratio: 16/9">
    <!-- Camera fout overlay -->
    @if (cameraFoutmelding()) {
      <div
        class="absolute inset-0 bg-black flex flex-col items-center justify-center text-center z-10 p-4"
      >
        <i
          class="pi pi-exclamation-triangle text-2xl sm:text-3xl text-red-400 mb-2"
        ></i>
        <p class="text-red-300 mb-2">{{ cameraFoutmelding() }}</p>
        <p-button
          icon="pi pi-refresh"
          label="Probeer opnieuw"
          (onClick)="startCamera()"
          severity="danger"
        >
        </p-button>
      </div>
    }

    <!-- Video element -->
    <video
      #videoElement
      autoplay
      muted
      playsinline
      class="w-full h-full object-contain bg-gray-900"
      (loadedmetadata)="onVideoLoaded($event)"
      (error)="onVideoError($event)"
    ></video>

    <!-- Camera overlay reticle -->
    @if (cameraGestart() && !cameraFoutmelding()) {
      <div class="absolute inset-0 pointer-events-none">
        <div
          class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"
        >
          <div
            class="w-12 h-12 sm:w-16 sm:h-16 border-2 border-white/50 rounded-lg"
          ></div>
        </div>
      </div>
    }
  </div>

  <!-- Controls onderaan naast elkaar -->
  <div class="flex justify-center gap-2 mt-2"></div>

  <div class="flex justify-center gap-3 pad1">
    <p-button
      label="Galerij"
      icon="pi pi-images"
      (onClick)="onKiesUitGalerij()"
      severity="primary"
      [rounded]="true"
      size="large"
    ></p-button>
    @if (cameraGestart()) {}
    <p-button
      label="Maak foto"
      icon="pi pi-camera"
      (onClick)="maakFoto()"
      [disabled]="isFotoMaken()"
      [loading]="isFotoMaken()"
      size="large"
    ></p-button>
  </div>

  <!-- Verborgen file input -->
  <input
    type="file"
    #galerijInput
    accept="image/*"
    (change)="onBestandGeselecteerd($event)"
    class="hidden"
  />
</div>
