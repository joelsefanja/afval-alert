<!-- Mobile-first Foto Upload -->
<div class="flex flex-col h-screen">
  <!-- Header -->
  <p-toolbar class="mb-2">
    <ng-template pTemplate="start">
      <div class="text-center w-full">
        <h2 class="text-xl md:text-2xl font-bold mb-1">
          <i class="pi pi-camera mr-2"></i>
          Maak een foto
        </h2>
        <p class="text-sm text-color-secondary">
          Leg het afval vast voor automatische herkenning
        </p>
      </div>
    </ng-template>
  </p-toolbar>
  
  <!-- Main Content -->
  <div class="flex-1 p-4">
    @if (heeftFoto()) {
      <!-- Foto Voorvertoning -->
      <app-foto-voorvertoning
        [fotoUrl]="krijgFotoUrl()"
        [isBevestigen]="isBezig()"
        [uploadStatus]="krijgUploadStatus()"
        (fotoVerwijderd)="onFotoVerwijderd()"
        (fotoBevestigd)="onFotoBevestigd()"
      ></app-foto-voorvertoning>
    } @else {
      <!-- Camera Preview -->
      <div class="h-[70vh] w-full">
        <app-camera-preview
          (fotoGeselecteerd)="onFotoGeselecteerd($event)"
          (cameraFout)="onCameraFout($event)"
        ></app-camera-preview>
      </div>
    }
  </div>
  
  <!-- Status & Progress -->
  @if (classificatieBezig()) {
    <div class="p-4 border-top-1 border-300">
      <p-card class="max-w-md mx-auto text-center">
        <p-progressSpinner class="mb-2" [style]="{'width': '50px', 'height': '50px'}"></p-progressSpinner>
        <p class="text-sm text-color-secondary">
          Afval wordt op de achtergrond geclassificeerd...
        </p>
      </p-card>
    </div>
  }
  
  <!-- Navigation -->
  @if (heeftFoto()) {
    <app-navigatie-knoppen
      [volgendeLabel]="'Verwerken'"
      [volgendeIcon]="'pi pi-cloud-upload'"
      [volgendeUitgeschakeld]="!kanVolgende()"
      (vorige)="onVorige()"
      (volgende)="onVolgende()"
    ></app-navigatie-knoppen>
  } @else {
    <app-navigatie-knoppen
      [volgendeLabel]="'Ga verder zonder foto'"
      (vorige)="onVorige()"
      (volgende)="onVolgendeZonderFoto()"
    ></app-navigatie-knoppen>
  }
</div>

<!-- Toast Messages -->
<p-toast></p-toast>